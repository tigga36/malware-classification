#stringsファイルからユニークな単語取得用

import json
import glob

Cnet_files = glob.glob("Cnet_strings\CnetA\*")
FFRI_files = glob.glob("FFRI_strings\\ffri_2013_strings\*") + glob.glob("FFRI_strings\\ffri_2014_strings\*")

Cnet_dic = {}
for file_path in Cnet_files:
    with open(file_path, 'r', encoding='utf-8') as f:
        dic = json.load(f)
    string_list = dic["strings"]
    for string in string_list:
        str_list = string.split(' ')
        for string in str_list:
            if string == '':
                continue
            if string in Cnet_dic:
                Cnet_dic[string] += 1
            else:
                Cnet_dic[string] = 1

FFRI_dic = {}
for file_path in FFRI_files:
    with open(file_path, 'r', encoding='utf-8') as f:
        dic = json.load(f)
    string_list = dic["strings"]
    for string in string_list:
        str_list = string.split(' ')
        for string in str_list:
            if string == '':
                continue
            if string in FFRI_dic:
                FFRI_dic[string] += 1
            else:
                FFRI_dic[string] = 1

Cnet_dic = sorted(Cnet_dic.items(), key=lambda x:x[1], reverse=True)
FFRI_dic = sorted(FFRI_dic.items(), key=lambda x:x[1], reverse=True)

path = 'Cnet_unique.json'
with open(path, 'w', encoding='utf-8') as f:
    json.dump(dict(Cnet_dic), f, indent=4, ensure_ascii=False)
path = 'FFRI_unique.json'
with open(path, 'w', encoding='utf-8') as f:
    json.dump(dict(FFRI_dic), f, indent=4, ensure_ascii=False)